<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- SEO Meta Tags -->
    <meta name="author" content="{{ .Site.Params.Author.name | default "Site Author" }}" />
    <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
    <meta name="robots" content="index, follow" />

    <title>{{- if .Title -}}{{ .Title }}{{- end -}}</title>
    
    {{- if .IsHome }}
    <link rel="canonical" href="{{ .Site.BaseURL }}" />
    {{- else }}
    <link rel="canonical" href="{{ .Permalink }}" />
    {{- end -}}

    <!-- Favicon -->
    <link rel="icon" href="{{ "favicon.ico" | relURL }}" type="image/x-icon" />

    <!-- Multilingual hreflang support -->
    {{ range .AllTranslations -}}
    <link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}" />
    {{ end }}

    <!-- bootstrap -->
    {{ partial "libsass" "scss/main.scss" }}

    <!-- fontawsome  -->
    {{/*  {{- partial "libsass" "scss/fontawesome.scss" -}}  */}}

    <!-- main  -->
    {{/*  {{ $src := resources.Get "css/all.min.css" }}
    {{ with $src | fingerprint "sha384" }}
        <link rel="stylesheet" href="{{ .Permalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
    {{ end }}  */}}

    <!-- Custom head -->
    {{ block "extra_head" . }}{{ end }}
  </head>

  <body class="light m-0 p-0">
    <!-- Site header -->
    {{ partial "header.html" . }}

    <!-- Main content -->
    {{ block "main" . }}{{ end }}

    <!-- Site footer -->
    {{ partial "footer.html" . }}

    <!-- Main JS -->
    {{ with resources.Get "js/main.js" }}
      {{$opts := dict
        "minify" (not hugo.IsDevelopment)
        "sourceMap" (cond hugo.IsDevelopment "external" "")
        "targetPath" "js/main.js"
      }}
      {{ with . | js.Build $opts }}
        {{ if hugo.IsDevelopment }}
          <script src="{{ .RelPermalink }}"></script>
        {{ else }}
          {{ with . | fingerprint }}
            <script src="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous"></script>
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}


    <!-- Custom scripts -->
    {{ block "scripts" . }}{{ end }}

    <!-- Analytics scripts -->
    {{ partial "analytics.html" . }}

  </body>
</html>
