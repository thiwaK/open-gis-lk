<!-- Overlay -->
<div id="overlay" class="overlay" onclick="closePanelExtent()"></div>

<!-- Slide-in Panel -->
<div id="sidePanelExtent" class="slide-in p-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="mb-0">Extent Selector</h5>
        <button class="close-btn" onclick="closePanelExtent()">&times;</button>
    </div>

    <hr>

    <!-- Option Group -->
    <div class="btn-group" role="group" aria-label="Selection Options">
        <input type="radio" class="btn-check" name="inputOption" id="adminOption" autocomplete="off" checked>
        <label class="btn btn-outline-secondary" for="adminOption">
            <i class="bi bi-hexagon-half me-2"></i> Admin Boundary
        </label>

        <input type="radio" class="btn-check" name="inputOption" id="tileOption" autocomplete="off">
        <label class="btn btn-outline-secondary" for="tileOption">
            <i class="bi bi-1-square me-2"></i> Tile Number
        </label>
    </div>

    <!-- Dynamic Content -->
    <div class="mt-4">

        {{/* Tile selector content */}}
        <div id="tileContent" class="d-none">
            <label for="tile-sellector" class="form-label"><i class="bi bi-layers me-2"></i>Tiles</label>
            <button type="button" id="" class="btn btn-outline-secondary dropdown-toggle w-100"
                data-bs-toggle="dropdown" aria-expanded="false">
                <span id=""><i class="bi bi-check2-square me-2"></i>Choose</span>
            </button>
            <ul id="tile-sellector-dropdown" class="dropdown-menu">
                {{ range seq 1 92 }}
                <li class="dropdown-item">
                    <label class="checkbox">
                        <input type="checkbox" value="{{ . }}" wfd-id="id{{ . }}">{{ . }}
                    </label>
                </li>
                {{ end }}
            </ul>
        </div>

        {{/* Admin bound selector */}}
        <div id="adminContent" class="">

            <label id="" for="" class="form-label"><i class="bi bi-geo-alt me-2"></i> Administrative Boundary Level</label>
            <select id="admin-level-selector" class="form-select">
                <option selected disabled>Select level</option>
                <option value="1">Province</option>
                <option value="2">District</option>
                <option value="3">Divisional Secretry Division</option>
                <option value="4">Grama Niladhari Division</option>
            </select>

            <div id="admin-selector" class="col-md-6 py-3 d-none">
                <label id="admin-selector-label" for="" class="form-label"></label>
                <button type="button" id="" class="btn btn-outline-secondary dropdown-toggle w-100"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <span id="admin-selector-btn"><i class="bi bi-check2-square me-2"></i>Choose</span>
                </button>
                <ul id="admin-selector-dropdown" class="dropdown-menu">
                    <!-- Populate dynamically -->
                </ul>
            </div>

            <div id="admin-selector2" class="col-md-6 d-none">
                <label id="admin-selector-label2" for="" class="form-label"></label>
                <button type="button" id="" class="btn btn-outline-secondary dropdown-toggle w-100"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <span id="admin-selector-btn2"><i class="bi bi-check2-square me-2"></i>Choose</span>
                </button>

                <ul id="admin-selector-dropdown2" class="dropdown-menu">
                    <!-- Populate dynamically -->
                </ul>
            </div>

        </div>
    </div>

    <button id="extent-selecter-save" class="btn btn-primary position-absolute bottom-0 end-0 m-2">
        <i class="bi bi-floppy2-fill me-2"></i>Save
    </button>

</div>

<script>
    // show-hide extent panel
    function openPanelExtent() {
        document.getElementById('sidePanelExtent').classList.add('show');
        document.getElementById('overlay').classList.add('show');
    }
    function closePanelExtent() {
        document.getElementById('sidePanelExtent').classList.remove('show');
        document.getElementById('overlay').classList.remove('show');
    }



    // Tile id/ admin bound content switcher
    const tileOption = document.getElementById('tileOption');
    const adminOption = document.getElementById('adminOption');
    const tileContent = document.getElementById('tileContent');
    const adminContent = document.getElementById('adminContent');

    function toggleContent() {
        if (tileOption.checked) {
            tileContent.classList.remove('d-none');
            adminContent.classList.add('d-none');
        } else if (adminOption.checked) {
            adminContent.classList.remove('d-none');
            tileContent.classList.add('d-none');
        }
    }

    tileOption.addEventListener('change', toggleContent);
    adminOption.addEventListener('change', toggleContent);

</script>